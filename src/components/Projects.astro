---
import Card from '@components/ui/Card.astro';
import { getCollection } from 'astro:content';



const projects = await getCollection('projects', ({ data }) => {
	return !data.inProgress;
});
console.log('Welcome, browser console!');
---

<section
	data-testid="projects"
	id="projects"
	class="mb-10 flex flex-col items-center justify-center md:mb-0 md:h-screen"
>
	<h2 class="font-pixel2 text-2xl text-orange lg:text-4xl">Projects</h2>
	<span class="mb-10 h-1 w-10 bg-orange"></span>
	<div class=" flex w-full h-2/3 flex-col flex-wrap items-center md:flex-row">

		<div class="h-96 w-full carousel carousel-vertical border border-black rounded-box dark:border-white  md:h-full">
			<div class="carousel-item justify-center h-full">
				{
					<Card
						url={projects[0].data.link}
						title={projects[0].data.title}
						alt={projects[0].data.img_alt}
						tags={projects[0].data.tags}			
					/>
				}
			</div> 
			<div class="carousel-item justify-center h-full">
				{
					<Card
						url={projects[1].data.link}
						title={projects[1].data.title}
						alt={projects[1].data.img_alt}
						tags={projects[1].data.tags}
					/>
				}
			</div> 
			<div class="carousel-item justify-center h-full">
				{
					<Card
						url={projects[2].data.link}
						title={projects[2].data.title}
						alt={projects[2].data.img_alt}
						tags={projects[2].data.tags}
					/>
				}
			</div> 
			<div class="carousel-item justify-center h-full">
				{
					<Card
						url={projects[3].data.link}
						title={projects[3].data.title}
						alt={projects[3].data.img_alt}
						tags={projects[3].data.tags}
					/>
				}
			</div> 
			<div class="carousel-item justify-center h-full">
				{
					<Card
						url={projects[4].data.link}
						title={projects[4].data.title}
						alt={projects[4].data.img_alt}
						tags={projects[4].data.tags}
					/>
				}
			</div> 
			<div class="carousel-item justify-center h-full">
				{
					<Card
						url={projects[5].data.link}
						title={projects[5].data.title}
						alt={projects[5].data.img_alt}
						tags={projects[5].data.tags}
					/>
				}
			</div> 
		</div>
	</div>

	<a
		href="https://github.com/Amhya"
		target="_blank"
		rel="noopener"
		class="flex flex-row font-pixel2 text-black hover:text-orange dark:text-white dark:hover:text-orange"
		aria-label="link to repository"
	>
		View full private projects archive
		<svg
			xmlns="http://www.w3.org/2000/svg"
			fill="none"
			viewBox="0 0 24 24"
			stroke-width="2"
			stroke="currentColor"
			class="ml-1 h-4 w-4"
		>
			<path
				stroke-linecap="round"
				stroke-linejoin="round"
				d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path>
		</svg>
	</a>
	
</section>

